** 7.3 제약된 최적화
   이차형식의 입력이 일정한 범위의 집합일 때 
   이차형식의 출력의 최대값과 최소값(혹은 출력구간의 시작과 끝)을 구할 필요가 있다.

*** 단위벡터에 대한 동치인 표현식들
    \[ \left\|x\right\|=1 \sim \left\|x\right\|^{2}=1 \sim x^{T}x=1 \sim
    x_{1}^{2}+\cdots+x_{n}^{2}=1 \]

*** 이차형식의 입력 범위가 (즉 제약조건이) x^{T}x=1 일 때
    이차형식이 혼합항이 없다면 가장 큰 계수가 최대값이고 가장 작은 계수가 최소값이다.

    혼합항이 있다면 이차형식의 행렬 A를 구성하고
    A의 고유값을 구하면 고유값의 최대값이 출력의 최대값이고
    고유값의 최소값이 출력의 최소값이 된다.

    #+BEGIN_QUOTE
    정리6. 입력범위가 x^{T}x=1 일 때 이차형식의 최대값과 최소값.

    \[ m=min{x^{T}Ax:\left\|x\right\|=1}, M=max{x^{T}x=1:\left\|x\right\|=1} \]

    이고, A가 대칭행렬이면 M은 A의 가장 큰 고유값 \lambda_{1}이고, 
    m은 A의 가장 작은 고유값이다. x가 M의 단위고유벡터 u_{1}일 때, x^{T}Ax=M이고
    x가 m의 단위고유벡터일 때, x^{T}Ax=m이다.
    #+END_QUOTE

    대칭행렬 A=PDP^{-1} 이므로 x=Py, x^{T}Ax=y^{T}Dy이고
    A가 대칭행렬이므로 P^{-1}P=P^{T}P=I 이므로
    모든 y에 대하여 \[ \left\|x\right\| = \left\|Py\right\| = \left\|y\right\| \]
    이다.

*** 이차형식의 입력범위에 제약조건이 하나 추가된 경우

    #+BEGIN_QUOTE
    정리7. 정리6에서 입력범위 제약조건에 x^{T}u_{1}=0이 추가된 경우

    x^{T}Ax의 최대값은 A의 두번째로 큰 고유값이 된다.
    이 고유값에 대응되는 고유벡터 u_{2}가 x일 때 x^{T}Ax의 최대값이 구해진다.
    #+END_QUOTE

*** 이차형식의 입력범위 제약조건과 최대값에 관한 일반적인 공식
    #+BEGIN_QUOTE
    정리8. 이차형식 입력범위 제약과 그에 따른 출력범위 제약의 일반화

    대칭행렬 A=PDP^{-1}이고, D의 대각성분을 크기 순으로 정돈하고,
    P의 열은 그에 대응되는 단위고유벡터인 경우,
    k=2, ... , n에 대하여 아래의 제약조건이 있다면

      \[ x^{T}x=1, x^{T}u_{1}=0, ... , x^{T}u_{k-1}=0 \]

    x^{T}Ax의 최대값은 고유값 \lambda_{k}이고 
    최대값은 그 고유값에 대응하는 u_{k}가 x일 때 얻어진다.
    #+END_QUOTE

*** 응용문제: 공공프로젝트 자원배분의 최적지점 찾기
    도로보수공사와 휴양지역공사가 있을 때 각 프로젝트에 할당되는 자원변수를 x,y라 하면
    4x^{2} + 9y^{2} \leq 36 이라는 제약조건 위의 점이 투입자원의 최대량을 나타낸다.

    주민들이 각 프로젝트에 투입될 자원량의 쌍을 지정하고 그 중에서 효용가치가 높은 것을
    골라서 투입량을 결정한다. 이 때 지정된 투입량의 효용가치측정은 
    q(x,y)=xy 라는 효용함수를 이용한다. 
    가장 효용가치가 높은 자원투입량을 구하라.
    
    효용함수와 제약조건이 있으니 제약된 최적화 문제가 된다.
    제약조건에서 우변을 1로 만들기 위하여 좌우변을 36으로 나누면
    좌변의 항들은 계수를 포함하여 각각 제곱항으로 묶을 수 있다.
    그러면 x=3x_{1}, y=2x_{2}가 된다.
    개별 제곱항을 벡터x의 x_{1}, x_{2} 항으로 변수변환하여
    x_{1}^{2}+x_{2}^{2}=1 로 바꿀 수 있다.

    그려면 효용함수 Q(x)=xy=3x_{1}2x_{2}=6x_{1}x_{2}가 된다.
    이로부터 x^{T}Ax의 A를 구하면 대각성분이 0이고 나머지성분이 3인 대칭행렬이다.
    이 대칭행렬의 최대고유값을 구하면 3이고 이 때의 단위고유벡터가 x가 되므로
    단위고유벡터의 각 성분이 x_{1}, x_{2} 이므로 역으로 x,y를 구할 수 있게 된다.
    이 x,y가 가장 효용이 높은 자원투입쌍이 된다.
