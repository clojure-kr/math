** 8.2 아핀 독립(Affine Independence)
   아핀종속은 선형종속처럼 아핀집합의 한 요소를 다른 요소들을 결합하여 
   만들 수 있는 관계이다. 단지 계수합 1이라는 제약이 추가될 뿐이다.
   이것을 선형결합의 동차계처럼 변형하면 계수합은 0이 된다. 

   #+BEGIN_QUOTE
   정의. 아핀종속과 아핀독립의 정의.

   동차계 아핀결합이 계수합이 0이면 *아핀종속(affine dependent)* 이다.
   계수합이 0이 아니면 *아핀독립(affine independent)* 이다.
   #+END_QUOTE

   아핀결합은 선형결합의 특수형태이고 아핀종속은 선형종속의 특수형태이다.
   따라서 아핀종속이면 선형종속이다.

   원소가 하나인 집합은 아핀독립일 수 밖에 없다. 계수합 0이 못 되기 때문이다.
   따라서 아핀종속이 되려면 계수 중 0이 아닌 것이 적어도 하나 이상 있어야 한다.

   원소가 두 개인 집합은 두 원소가 같아야만 아핀종속이 된다.
   아래 정리는 원소가 두 개 이상인 경우 적용되는 정리이다.

   #+BEGIN_QUOTE
   정리5. 아핀결합과 선형결합의 논리적 동치관계(모두 참 아니면 모두 거짓)

   두 개 이상의 원소로 된 집합 S에 대하여 
   1. S는 아핀종속이다.
   2. S의 점들 중 하나는 다른 점들의 아핀결합이다.
   3. 어떤 원소로 나머지 원소들을 모두 차감한 집합은 선형종속이다.
   4. S의 동차형식의 집합은 선형종속이다.   
   #+END_QUOTE

   정리5의 1,2가 적용되는 사례.
   아핀외피에 속하는 두 개의 서로 다른 점 p,q가 하나의 선에 있는데
   다른 점 r 역시 그 선에 놓인다면 {p,q,r}은 아핀종속이다.
   반대로 다른 점 s가 그 선에 있지 않다면 {p,q,s}는 아핀독립이다.
   
   정리5의 3을 적용하는 사례.
   3개 점의 집합에서 한 점을 각 점들에 차감하여 선형결합으로 만들면
   남은 두 점이 선형독립인지 파악해서 아핀종속 여부를 알 수 있다.

   원본 아핀공간은 3개 점을 지나는 3차원상의 평면인데
   이것의 환원된 선형공간은 원점과 2개 점을 지나는 3차원상의 평면으로
   원본 아핀공간이 평행이동된 것과 같다.

   선형성분이 3개 이상일 때는 기약행렬로 만들어 선형종속을 따져 아핀종속을 결정한다.
   선형성분이 3개 이상이 될 경우에도 3차원의 아핀공간은 최대 2차원 평면이다.
   따라서 제시된 아핀성분이 많아도 단 3개 성분으로 아핀공간을 표현할 수 있다.

   하나의 아핀성분이 다른 아핀성분들의 아핀결합이 될 경우
   그 계수들이 하나의 아핀성분의 (아핀좌표 내지는) 무게중심좌표가 된다.

*** 무게중심좌표(Barycentric Coordinates)
    4.4절에서 다루었던 기저좌표에서의 고유표현 정리가 여기에 적용된다.
   #+BEGIN_QUOTE
   정리6. 고유표현정리를 적용한 무게중심좌표 개념.

   집합S가 아핀독립일 때, 아핀공간S에 속하는 모든 임의의 점 p는 모두
   아핀독립성분들의 아핀결합에서 고유한 계수값 세트를 가진다.
   계수합 1이라는 조건이 당연히 충족되어야 한다.
   #+END_QUOTE

   #+BEGIN_QUOTE
   정의. 무게중심좌표(아핀좌표)의 정의.

   아핀독립집합 S가 있을 때 S에 속하는 임의의 점 p에 대하여
   S의 아핀결합의 계수들로 된 고유표현체를 무게중심좌표(아핀좌표)라 부른다.
   #+END_QUOTE
   
   아핀독립집합 성분들의 동차식의 아핀결합은 아핀성분의 동차식이 된다.
   동차식의 기약행렬로 무게중심좌표를 구할 수 있다.
   예를들어 3개 점의 아핀독립집합이 있으나 2차원 점들일 때
   그 아핀공간에 속하는 p에 대한 무게중심좌표를 첨가행렬을 축약하여 구할 수 있다.

   무게중심좌표란 물리적 기하학적 해석을 모두 가진다. 
   1827년 뫼비우스가 세 개의 꼭지점으로 구성된 삼각형 내부의 점 p에 대하여 정의하였다.
   질량이 없는 삼각형과 꼭지점에 상응하는 질량들로 구성된 시스템의 질량의 중심이 
   p가 되는 3개의 음이 아닌 질량숫자들이 무게중심좌표이다.
   이 질량숫자는 그 합계가 1이 되어야 한다는 제약에 의하여 고유하게 결정된다.

   임의의 삼각형이 있을 경우 p는 3개의 꼭지점(a,b,c)을 아핀성분으로 하는 아핀결합이다.
   아핀성분의 계수가 바로 질량숫자(r,s,t)가 되며 이들의 합이 1이라는 제약조건 때문에
   p는 아핀결합이 된다. p=ra+sb+tc

   만약 p가 삼각형 내부에 없으면 무게중심좌표중 일부 또는 전부 
   즉 질량숫자의 일부 또는 전부는 음수가 될 것이다. 

   우리가 배운 기저좌표는 원점과 기저 성분을 지나는 좌표축이 가정되는데
   아핀공간이 만드는 좌표는 원점이 없을 수 있으므로 각 성분 두 개를 지나는 좌표축이 가정된다.

   위의 삼각형을 좌표계로 확대한다고 생각해보자.
   b,c만 지나는 선은 a가 없는 아핀결합이므로 a에 대응되는 질량r은 0이다.
   이 선에 평행한 a를 지나는 선은 원소가 한개인 아핀결합으로 반드시 질량r이 1이어야 한다.

*** 컴퓨터그래픽에서 무게중심좌표
    컴퓨터그래픽에서 기하학적 객체를 가지고 작업할 때 현실적인 최종 이미지를 만드는 과정에서
    디자이너들은 특정 핵심 지점들에서 물체에 대한 와이어프레임 근사를 사용한다.
    예를들어 물체의 표면의 일부가 작은 평면 삼각표면들로 구성되어 있다면 그 꼭지점들의 정보만
    알 때에 그래픽프로그램이 그 작은 표면들에 쉽게 색, 빛, 명암을 추가할 수 있다.
    무게중심좌표는 삼각형의 내부를 넘어서 꼭지점 정보를 부드럽게 보간하는 도구를 제공한다.
    한 점에서의 보간은 무게중심좌표를 계수로 하는 꼭지점 값들의 선형결합이다.

    RGB색상이 바로 RGB의 선형결합이다. 각 계수는 0과 1사이의 숫자이다.
    
    예제5는 3개의 꼭지점과 p가 주어지고 각 꼭지점 색상이 RGB로 주어졌을 때
    p점에서 보간된 색의 RGB좌표를 찾는 문제다.
    먼저 꼭지점과 p를 동차식으로 변환하여 무게중심좌표를 찾는다.
    그리고 무게중심좌표에 대응되는 꼭지점의 RGB색을 선형결합으로 구성하여 계산하면
    동 좌표의 RGB색이 구해진다.

    컴퓨터그래픽 작업의 마지막 단계중 하나는 보이지 말아야 할 부분을 제거하는 것이다.
    사람의 시선이 픽셀로 된 화면을 지나 3차원 객체들에 향할 때 화면에 보여져야 할 
    색과 정보는 그 시선이 처음 교차하게 되는 객체에서 제공되야 한다.

    그래픽장면의 객체가 와이어프레임을 이용하여 근사되었다면 숨겨진 표면문제도 무게중심좌표를
    이용하여 해결할 수 있다. 시선 삼각형 교차를 찾기 위한 수학은 극도로 사실적인 물체 쉐이딩
    수행에도 사용될 수 있다. 아직 시선 추적 방법은 매우 느리지만 미래에는 다를 수 있다. 

    예제6은 와이어프레임의 삼각형의 3개 꼭지점과 주시선 방정식이 주어졌을 때 
    주시선이 삼각형이 포함된 면에 교차하는 점을 찾는 문제이다. 점이 삼각형 안에 있나 확인한다.
    삼각형의 아핀결합과 주시선 방정식이 같아지는 값이 교차점이 된다.
    아핀결합식은 계수 미지수를 하나라도 줄이기 위하여 계수합1인 것을 변형응용한다.
    이것을 정리하면 선형결합 형태가 된다. 선형결합과 주시선 방정식을 등식으로 배치하면
    미지수가 좌우변에 골고루 있는데 미지수항을 좌변으로 미지수 아닌 것을 우변으로 정리한다.
    이 후 첨가행렬을 구성하여 행축약하면 미지수값들을 구할 수 있다.
    구해진 미지수를 주시선방정식에 넣으면 일치하는 점을 구한다.
    아핀결합에 넣어 정리하면 계수합 1을 확인하여 점이 내부에 있나 판단할 수 있다.
   
    
